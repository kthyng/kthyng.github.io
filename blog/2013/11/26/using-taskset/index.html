
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Kristen M. Thyng, Ph.D. : Using Taskset</title>
<link href="http://fonts.googleapis.com/css?family=Abel|Arvo" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="http://www.kristenthyng.com/blog/theme/css/styles.css" type="text/css" />

<link href="http://www.kristenthyng.com/blog/" type="application/atom+xml" rel="alternate" title="Kristen M. Thyng, Ph.D. ATOM Feed" />

<!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!--[if lte IE 7]>
        <link rel="stylesheet" type="text/css" media="all" href="http://www.kristenthyng.com/blog/css/ie.css"/>
        <script src="http://www.kristenthyng.com/blog/js/IE8.js" type="text/javascript"></script><![endif]-->

<!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" media="all" href="http://www.kristenthyng.com/blog/css/ie6.css"/><![endif]-->

</head>

<body>

<div id="container">
    <div id="header">
        <h1><a href="../index.html">Kristen M. Thyng<span>Ph.D. </span></a></h1>
        <div class="submenu">
            <ul>
                <li><a href="./blog/index.html">Blog</a></li>
                <li><a href="./research.html">Research</a></li>
                <li><a href="./publications.html">Publications</a></li><br>
                <li><a href="./presentations.html">Presentations</a></li>
                <li><a href="./teaching.html">Teaching</a></li>
                <li><a href="./cv.pdf">CV</a></li>
            </ul>
        </div>
        <div class="clearfloat"></div>
<!--         <div id="navcontainer">
            <ul id="navlist">
                <li id="active"><a href="#">Home</a></li>
                <li><a href="research.html">Research</a></li>
                <li><a href="publications.html">Publications</a></li>
                <li><a href="teaching.html">Teaching</a></li>
                <li><a href=""></a></li>
            </ul>
        </div> -->
<!--         <div class="clearfloat"></div>
        <div><img src="http://www.kristenthyng.com/blog/theme/images/header.jpg" alt="" width=100% /></div> -->
    </div>
        
<header>
    <h2>Using Taskset</h2>
    <time datetime="2013-11-26T17:00:00">Nov 26, 2013</time></header>
<br>
<article>
    <p>When I am running analysis or plotting scripts on a Linux workstation, I often employ a "poor man's" parallel processing: starting multiple instances of a script with different parameters to decrease the amount of time until I get my results. I have noticed that instead of nicely shifting each new process to a separate core on the workstation, sometimes the processes will get stacked on one core. I figured out how to manually move them around with a lot of googling one day, so I am hoping to save someone the same trouble. Note that this will not work on a Mac.
<br><br></p>
<ul>
<li>Start your processes</li>
<li>Find the process PIDs with <code>top</code> or your favorite method</li>
<li>Check which node the processes are running on with <br>
<code>taskset -p [PID]</code> <br>
for each process PID</li>
<li>If the node number is the same for multiple processes, you will want to change the node being used to spread them out. If your Linux machine has 12 nodes, choose a different number between 0 and 11 from the other process. Change the process node with<br>
<code>taskset -p [CORE NUMBER] [PID]</code></li>
<li>Another check to <code>top</code> should show that the processes are now each allowed to use 100% of the CPU per node instead of sharing.</li>
</ul>
</article>
<br>

<footer>
    <div id="footer">
        <nav>
            <br>
            <a href="http://www.kristenthyng.com/blog/index.html">Blog Home</a>&nbsp;&nbsp;
            <a href="http://www.kristenthyng.com/blog/archives.html">Archive</a>
            <ul>
<!--              -->
<!--                                         <li>:: <a href="http://www.kristenthyng.com/blog/tags.html">Tags</a></li>
             -->
            </ul>
        </nav>
    </div>
</footer></div>

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-43225108-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>